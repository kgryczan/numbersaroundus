<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Numbers around us">
<meta name="dcterms.date" content="2023-12-21">

<title>S(00)7 — Agent with License for OOP – Numbers Around Us</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-697306ee647f3aecb60be57249203282.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-3fe3df12cb322cd60d4f50ab5ce79ec8.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-622041c3a4c8f37608cdf3f999a2327b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-923b75c99b049d6672f44a19a661fd30.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Numbers Around Us</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../last-articles.html"> 
<span class="menu-text">Newest articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../challenges/index.html"> 
<span class="menu-text">Challenges</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bi/index.html"> 
<span class="menu-text">Business Intelligence</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../ds/index.html"> 
<span class="menu-text">Data Science</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../dp/index.html"> 
<span class="menu-text">Data Philosophy</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com" title="Github" class="quarto-navigation-tool px-1" aria-label="Github"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">S(00)7 — Agent with License for OOP</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Numbers around us </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 21, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src="images/jamesbond.jpg" class="img-fluid"></p>
<p>In the realm of data science and statistical programming, R stands out for its rich set of features and libraries. Just like the iconic James Bond, also known as Agent 007, who never fails to amaze with his suave skills and an array of sophisticated gadgets, the R programming language has its own secret weapon for object-oriented programming (OOP): the S7 system. The S7 system in R is a new, advanced OOP system, designed to build on and surpass its predecessors, S3 and S4. In this article, we will embark on a mission to explore the S7 OOP system, understanding its features and capabilities through the thrilling lens of a 007 adventure.</p>
<section id="s007-the-new-agent-in-town" class="level2">
<h2 class="anchored" data-anchor-id="s007-the-new-agent-in-town">S007 — The New Agent in Town</h2>
<p>R’s journey in Object-Oriented Programming (OOP) has been a progressive evolution, much like the transformation of the James Bond character over decades. From the straightforward, yet somewhat limited, S3 system, akin to Bond’s early gadgets, to the more complex and robust S4 system, resembling the intricate plotlines and advanced technology of the later Bond films, R’s OOP capabilities have continually expanded and improved. Now, enter S7 — the latest upgrade, designed to be the successor to both S3 and S4, offering a harmonious blend of their best features with additional enhancements.</p>
<p>S7, like a well-scripted Bond movie, offers a narrative of sophistication and efficiency. It provides formal class definitions, a concept somewhat akin to Bond receiving detailed mission briefings. These definitions lay out the structure and capabilities of each class, equipping the programmer with a clear blueprint for designing their data structures and functionalities.</p>
<p>Let’s delve into the creation of a class in S7:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(S7)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the Spy class</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>spy <span class="ot">&lt;-</span> <span class="fu">new_class</span>(<span class="st">"Spy"</span>, <span class="at">properties =</span> <span class="fu">list</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">codeName =</span> class_character,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">equipment =</span> class_character,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">assignment =</span> class_character</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the class structure</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(spy)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>Spy<span class="sc">&gt;</span> class</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> parent     <span class="sc">:</span> <span class="er">&lt;</span>S7_object<span class="sc">&gt;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="er">@</span> constructor<span class="sc">:</span> <span class="cf">function</span>(codeName, equipment, assignment) {...}</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> validator  <span class="sc">:</span> <span class="er">&lt;</span><span class="cn">NULL</span><span class="sc">&gt;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="er">@</span> properties <span class="sc">:</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="er">$</span> codeName  <span class="sc">:</span> <span class="er">&lt;</span>character<span class="sc">&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="er">$</span> equipment <span class="sc">:</span> <span class="er">&lt;</span>character<span class="sc">&gt;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="er">$</span> assignment<span class="sc">:</span> <span class="er">&lt;</span>character<span class="sc">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This code snippet demonstrates how to define a class in S7. The <code>new_class</code> function is used to create a new class named ‘Spy’. This class has three properties: ‘codeName’, ‘equipment’, and ‘assignment’, each of a specific data type. It’s like crafting a persona for Bond, detailing his alias, arsenal, and objectives.</p>
<p>S7 brings the advantage of formal class definitions, which allow for more explicit and structured OOP in R. This is crucial for large-scale and complex programming projects where clarity and maintainability are key. Imagine a spy organization where every agent’s skills, gadgets, and missions are meticulously recorded and structured — this is what S7 brings to R programming.</p>
<p>Moreover, S7 classes support inheritance, a powerful feature that lets new classes adopt the properties and methods of existing ones, much like a new 007 inheriting the legacy of his predecessors while bringing his unique flair to the role. This feature enables code reusability and promotes a more organized and hierarchical approach to programming.</p>
<p>But S7 isn’t just about structure and formalism. It also retains the simplicity and flexibility of S3, ensuring that the system remains accessible to those familiar with the traditional R OOP approach. It’s the perfect blend of the old and new, much like a Bond film that combines classic spy film elements with modern twists.</p>
<p>In addition to class definitions, S7 introduces built-in type definitions for existing base types in R. These are recognizable as they start with <code>class_</code>, such as <code>class_character</code> or <code>class_numeric</code>. This integration ensures that S7 can seamlessly work with the fundamental data types in R, much like how Bond smoothly integrates into different cultures and environments in his global adventures.</p>
<p>As we progress through this article, we’ll continue to build on this foundation, exploring how to create objects, define methods, and utilize inheritance in S7 — all through the exciting lens of the world of James Bond.</p>
</section>
<section id="assembling-the-spy-toolkit-classes-and-objects-in-s7" class="level2">
<h2 class="anchored" data-anchor-id="assembling-the-spy-toolkit-classes-and-objects-in-s7">Assembling the Spy Toolkit — Classes and Objects in S7</h2>
<p>In the world of espionage, a spy’s toolkit is crucial. It’s not just about the gadgets themselves, but how they are used in the field. Similarly, in S7, the real power lies in how classes are instantiated and objects are manipulated. Just as James Bond expertly utilizes his gadgets for different missions, R programmers can harness the power of objects to achieve their data manipulation goals.</p>
<section id="creating-instances-the-spy-embarks-on-a-mission" class="level3">
<h3 class="anchored" data-anchor-id="creating-instances-the-spy-embarks-on-a-mission">Creating Instances: The Spy Embarks on a Mission</h3>
<p>Creating an instance of a class in S7 is akin to assigning a specific mission to a spy. Each object, like a spy on a unique mission, has its own set of characteristics and objectives, defined by the properties of its class.</p>
<p>Let’s create an instance of our ‘Spy’ class:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instance of Spy class</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>jamesBond <span class="ot">&lt;-</span> <span class="fu">spy</span>(<span class="at">codeName =</span> <span class="st">"007"</span>, <span class="at">equipment =</span> <span class="st">"Aston Martin; Walther PPK"</span>, <span class="at">assignment =</span> <span class="st">"Track Spectre"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Viewing the object's details</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>jamesBond</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>Spy<span class="sc">&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="er">@</span> codeName  <span class="sc">:</span> chr <span class="st">"007"</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> equipment <span class="sc">:</span> chr <span class="st">"Aston Martin; Walther PPK"</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> assignment<span class="sc">:</span> chr <span class="st">"Track Spectre"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, <code>jamesBond</code> is an object of the ‘Spy’ class, with a unique set of equipment and a specific mission. This demonstrates how objects in S7 encapsulate data and characteristics, just as James Bond possesses a distinct set of gadgets and objectives in each movie.</p>
</section>
<section id="manipulating-object-properties-a-spys-dynamic-world" class="level3">
<h3 class="anchored" data-anchor-id="manipulating-object-properties-a-spys-dynamic-world">Manipulating Object Properties: A Spy’s Dynamic World</h3>
<p>The world of a spy is dynamic, with missions evolving and new challenges arising. In S7, this dynamism is reflected in how we can manipulate object properties.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing the assignment</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>jamesBond<span class="sc">@</span>assignment <span class="ot">&lt;-</span> <span class="st">"Prevent global cyber-attack"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Updating equipment</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>jamesBond<span class="sc">@</span>equipment <span class="ot">&lt;-</span> <span class="fu">c</span>(jamesBond<span class="sc">@</span>equipment, <span class="st">"Smartwatch"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Reviewing updated details</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>jamesBond</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>Spy<span class="sc">&gt;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="er">@</span> codeName  <span class="sc">:</span> chr <span class="st">"007"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> equipment <span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="st">"Aston Martin; Walther PPK"</span> <span class="st">"Smartwatch"</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> assignment<span class="sc">:</span> chr <span class="st">"Prevent global cyber-attack"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this example, we modify the ‘assignment’ and ‘equipment’ of <code>jamesBond</code>. This flexibility allows objects in S7 to be adaptable, just like a spy who must adjust to new developments during a mission.</p>
</section>
<section id="ensuring-mission-integrity-validation-in-s7" class="level3">
<h3 class="anchored" data-anchor-id="ensuring-mission-integrity-validation-in-s7">Ensuring Mission Integrity: Validation in S7</h3>
<p>In the covert world of espionage, ensuring that all elements of a mission are valid and in place is crucial. Similarly, S7 offers validation mechanisms to ensure that the properties of objects adhere to defined rules.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Attempting an invalid assignment update</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>jamesBond<span class="sc">@</span>assignment <span class="ot">&lt;-</span> <span class="dv">12345</span>  <span class="co"># Assignments should be character strings</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># S7's validation mechanism throws an error</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Error: &lt;Spy&gt;@assignment must be &lt;character&gt;, not &lt;double&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Attempting to assign a numeric value to ‘assignment’, which is defined as a character string, results in an error. This feature ensures the integrity of objects, much like a spy ensuring the validity of mission details.</p>
</section>
<section id="the-versatility-of-s7-handling-different-types-of-missions" class="level3">
<h3 class="anchored" data-anchor-id="the-versatility-of-s7-handling-different-types-of-missions">The Versatility of S7: Handling Different Types of Missions</h3>
<p>Just as James Bond is adept at handling different types of missions, from stealthy reconnaissance to high-octane action, S7 is versatile in handling various types of data structures. This versatility is evident in how S7 can be used to model a wide range of real-world problems and datasets.</p>
<p>For instance, we could define another class, ‘Gadget’, to represent the tools at a spy’s disposal:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the Gadget class</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>gadget <span class="ot">&lt;-</span> <span class="fu">new_class</span>(<span class="st">"Gadget"</span>, <span class="at">properties =</span> <span class="fu">list</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> class_character,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">role =</span> class_character</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a gadget instance</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>explodingPen <span class="ot">&lt;-</span> <span class="fu">gadget</span>(<span class="at">name =</span> <span class="st">"Exploding Pen"</span>, <span class="at">role =</span> <span class="st">"Detonate upon click"</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Viewing the gadget</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>explodingPen</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>Gadget<span class="sc">&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="er">@</span> name<span class="sc">:</span> chr <span class="st">"Exploding Pen"</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> role<span class="sc">:</span> chr <span class="st">"Detonate upon click"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This example shows how S7 can be used to model different entities, each with its own unique set of properties and behaviors. The ‘Gadget’ class represents a different aspect of a spy’s world, showcasing the system’s ability to handle diverse data modeling scenarios.</p>
</section>
</section>
<section id="gadgets-and-skills-exploring-properties-and-methods-in-s7" class="level2">
<h2 class="anchored" data-anchor-id="gadgets-and-skills-exploring-properties-and-methods-in-s7">Gadgets and Skills — Exploring Properties and Methods in S7</h2>
<p>In the James Bond universe, each gadget and skill is tailored for specific situations, much like how methods in S7 are designed to operate on objects. This section will explore how to define and use methods in S7, drawing parallels to how Bond expertly utilizes his gadgets and skills on missions.</p>
<section id="defining-methods-equipping-our-agent" class="level3">
<h3 class="anchored" data-anchor-id="defining-methods-equipping-our-agent">Defining Methods: Equipping Our Agent</h3>
<p>Methods in S7 are akin to the special skills and gadgets provided to James Bond for his missions. They define what an object can do, or how it reacts to certain actions. Let’s equip our ‘Spy’ with some essential spy skills:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining a generic method</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>infiltrate <span class="ot">&lt;-</span> <span class="fu">new_generic</span>(<span class="st">"infiltrate"</span>, <span class="st">"x"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining a method for the Spy class</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">method</span>(infiltrate, spy) <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(x<span class="sc">@</span>codeName, <span class="st">" is infiltrating the enemy base."</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Bond embarks on a mission</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">infiltrate</span>(jamesBond)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"007 is infiltrating the enemy base."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this example, we define an <code>infiltrate</code> method for the ‘Spy’ class. When called on the <code>jamesBond</code> object, it describes Bond’s action. This illustrates how methods bring objects to life, defining their behavior and interactions.</p>
</section>
<section id="enhancing-skills-method-overloading" class="level3">
<h3 class="anchored" data-anchor-id="enhancing-skills-method-overloading">Enhancing Skills: Method Overloading</h3>
<p>Just as James Bond adapts his approach based on the mission, methods in S7 can be tailored to different classes. This concept, known as method overloading, allows the same method name to perform different actions depending on the object it’s applied to.</p>
<p>Imagine we have another class, ‘Villain’, in our espionage world. We can define an <code>infiltrate</code> method specifically for this class:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the Villain class</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>villain <span class="ot">&lt;-</span> <span class="fu">new_class</span>(<span class="st">"Villain"</span>, <span class="at">properties =</span> <span class="fu">list</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> class_character,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">plan =</span> class_character</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Method for Villain class</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">method</span>(infiltrate, villain) <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(x<span class="sc">@</span>name, <span class="st">" is plotting "</span>, x<span class="sc">@</span>plan)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># A villain with a plan</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>blofeld <span class="ot">&lt;-</span> <span class="fu">villain</span>(<span class="at">name =</span> <span class="st">"Blofeld"</span>, <span class="at">plan =</span> <span class="st">"world domination"</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Applying the method</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="fu">infiltrate</span>(blofeld)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Blofeld is plotting world domination"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="mastering-espionage-inheritance-and-polymorphism-in-s7" class="level3">
<h3 class="anchored" data-anchor-id="mastering-espionage-inheritance-and-polymorphism-in-s7">Mastering Espionage — Inheritance and Polymorphism in S7</h3>
<p>In the same way that a new James Bond actor inherits the legacy of his predecessors while adding his own twist, inheritance in S7 allows new classes to build upon and extend existing ones. This concept is pivotal in OOP, facilitating code reuse and the creation of a more organized and hierarchical structure.</p>
<section id="inheritance-passing-the-torch-to-new-agents" class="level4">
<h4 class="anchored" data-anchor-id="inheritance-passing-the-torch-to-new-agents">Inheritance: Passing the Torch to New Agents</h4>
<p>Inheritance in S7 is like the lineage of 007 agents, where each new agent brings their unique qualities while retaining the core characteristics of the 007 identity. Let’s illustrate this with an example where a new class ‘UndercoverSpy’ inherits from the ‘Spy’ class:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the UndercoverSpy class</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>undercoverSpy <span class="ot">&lt;-</span> <span class="fu">new_class</span>(<span class="st">"UndercoverSpy"</span>, <span class="at">parent =</span> spy, <span class="at">properties =</span> <span class="fu">list</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">alias =</span> class_character</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating an undercover spy object</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>eveMoneypenny <span class="ot">&lt;-</span> <span class="fu">undercoverSpy</span>(<span class="at">codeName =</span> <span class="st">"Eve"</span>, <span class="at">equipment =</span> <span class="st">"Stealth Gear"</span>, <span class="at">assignment =</span> <span class="st">"Undercover Mission"</span>, <span class="at">alias =</span> <span class="st">"Miss Moneypenny"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Viewing the object</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>eveMoneypenny</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>UndercoverSpy<span class="sc">&gt;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="er">@</span> codeName  <span class="sc">:</span> chr <span class="st">"Eve"</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> equipment <span class="sc">:</span> chr <span class="st">"Stealth Gear"</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> assignment<span class="sc">:</span> chr <span class="st">"Undercover Mission"</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> alias     <span class="sc">:</span> chr <span class="st">"Miss Moneypenny"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, <code>UndercoverSpy</code> inherits properties and methods from <code>Spy</code>, while also introducing its own unique property, <code>alias</code>. This demonstrates how inheritance can be used to create specialized versions of existing classes.</p>
</section>
<section id="polymorphism-versatility-in-the-field" class="level4">
<h4 class="anchored" data-anchor-id="polymorphism-versatility-in-the-field">Polymorphism: Versatility in the Field</h4>
<p>In the world of espionage, adaptability is key. James Bond, for example, might approach a mission differently depending on the context. Similarly, polymorphism in S7 allows for methods to be applied in various ways depending on the class of the object they are invoked on.</p>
<p>We can extend the <code>infiltrate</code> method to our <code>UndercoverSpy</code>, allowing for a different behavior:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extending the infiltrate method for UndercoverSpy</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">method</span>(infiltrate, undercoverSpy) <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(x<span class="sc">@</span>alias, <span class="st">" is using her cover as "</span>, x<span class="sc">@</span>alias, <span class="st">" on an "</span>, x<span class="sc">@</span>assignment)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Eve Moneypenny on her mission</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">infiltrate</span>(eveMoneypenny)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Miss Moneypenny is using her cover as Miss Moneypenny on an Undercover Mission"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This example showcases how the same method name can have different implementations for different classes, a core concept of polymorphism.</p>
</section>
<section id="method-dispatch-the-right-tool-for-the-job" class="level4">
<h4 class="anchored" data-anchor-id="method-dispatch-the-right-tool-for-the-job">Method Dispatch: The Right Tool for the Job</h4>
<p>Method dispatch in S7 is like selecting the right gadget for the right mission in a Bond movie. Depending on the situation (or the class of the object), a different method (or gadget) is chosen.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generic method for mission execution</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>executeMission <span class="ot">&lt;-</span> <span class="fu">new_generic</span>(<span class="st">"executeMission"</span>, <span class="st">"x"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Method for Spy</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">method</span>(executeMission, spy) <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="st">"Agent "</span>, x<span class="sc">@</span>codeName, <span class="st">" is executing mission: "</span>, x<span class="sc">@</span>assignment)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Method for UndercoverSpy</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">method</span>(executeMission, undercoverSpy) <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(x<span class="sc">@</span>alias, <span class="st">", undercover as "</span>, x<span class="sc">@</span>alias, <span class="st">", is executing a covert operation."</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Executing missions</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="fu">executeMission</span>(jamesBond)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Agent 007 is executing mission: Prevent global cyber-attack"</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="fu">executeMission</span>(eveMoneypenny)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Miss Moneypenny, undercover as Miss Moneypenny, is executing a covert operation."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this scenario, the <code>executeMission</code> method behaves differently for a ‘Spy’ and an ‘UndercoverSpy’, illustrating the concept of method dispatch where the method’s behavior is determined by the object’s class.</p>
</section>
<section id="a-license-to-innovate" class="level4">
<h4 class="anchored" data-anchor-id="a-license-to-innovate">A License to Innovate</h4>
<p>The concepts of inheritance and method dispatch in S7 empower R programmers with a ‘license to innovate’. By allowing for code reuse, specialization, and context-specific behaviors, S7 opens up a world of possibilities for efficient and effective programming. Just like how each Bond film builds upon its predecessors while introducing new elements, S7 encourages a dynamic and flexible approach to OOP in R.</p>
</section>
</section>
<section id="covert-operations-advanced-features-of-s7" class="level3">
<h3 class="anchored" data-anchor-id="covert-operations-advanced-features-of-s7">Covert Operations — Advanced Features of S7</h3>
<p>Just as James Bond’s missions often involve intricate plots and advanced technology, the S7 OOP system in R has advanced features that cater to complex programming needs. These features, like the high-tech gadgets and cunning strategies in a Bond film, enable programmers to tackle sophisticated problems with finesse.</p>
<section id="multiple-dispatch-a-team-of-agents" class="level4">
<h4 class="anchored" data-anchor-id="multiple-dispatch-a-team-of-agents">Multiple Dispatch: A Team of Agents</h4>
<p>In some of James Bond’s most thrilling missions, teamwork is essential, with each team member playing a specific role. Similarly, multiple dispatch in S7 allows for methods that can operate based on the types of multiple arguments, akin to a coordinated effort by a team of agents.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining a multi-agent operation</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>cooperativeMission <span class="ot">&lt;-</span> <span class="fu">new_generic</span>(<span class="st">"cooperativeMission"</span>, <span class="fu">c</span>(<span class="st">"agent1"</span>, <span class="st">"agent2"</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Method for Spy and UndercoverSpy</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">method</span>(cooperativeMission, <span class="fu">list</span>(spy, undercoverSpy)) <span class="ot">&lt;-</span> <span class="cf">function</span>(agent1, agent2) {</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(agent1<span class="sc">@</span>codeName, <span class="st">" and "</span>, agent2<span class="sc">@</span>alias, <span class="st">" collaborate on a mission."</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Executing a cooperative mission</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="fu">cooperativeMission</span>(jamesBond, eveMoneypenny)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"007 and Miss Moneypenny collaborate on a mission."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This example shows how multiple dispatch allows for more dynamic and flexible method definitions, enabling the handling of complex scenarios where the behavior depends on more than one object’s class.</p>
</section>
<section id="dynamic-properties-adapting-to-the-mission" class="level4">
<h4 class="anchored" data-anchor-id="dynamic-properties-adapting-to-the-mission">Dynamic Properties: Adapting to the Mission</h4>
<p>Just as a spy must adapt to unpredictable scenarios, S7 allows for properties that can be dynamically computed or modified. These dynamic properties, like Bond’s adaptable gadgets, offer a level of flexibility and responsiveness in how objects are handled.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enhancing the Spy class with a dynamic property</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>spy <span class="ot">&lt;-</span> <span class="fu">new_class</span>(<span class="st">"Spy"</span>, <span class="at">properties =</span> <span class="fu">list</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">codeName =</span> class_character,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">equipment =</span> class_character,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">assignment =</span> class_character,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">status =</span> <span class="fu">new_property</span>(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">getter =</span> <span class="cf">function</span>(self) <span class="cf">if</span> (self<span class="sc">@</span>assignment <span class="sc">==</span> <span class="st">"Undercover Mission"</span>) <span class="st">"Undercover"</span> <span class="cf">else</span> <span class="st">"Active"</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Instance of Spy class</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>jamesBond <span class="ot">&lt;-</span> <span class="fu">spy</span>(<span class="at">codeName =</span> <span class="st">"007"</span>, <span class="at">equipment =</span> <span class="st">"Aston Martin; Walther PPK"</span>, <span class="at">assignment =</span> <span class="st">"Track Spectre"</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Bond's status depends on his assignment</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>jamesBond<span class="sc">@</span>assignment <span class="ot">&lt;-</span> <span class="st">"Undercover Mission"</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>jamesBond<span class="sc">@</span>status  <span class="co"># "Undercover"</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Undercover"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This example illustrates how dynamic properties can be used to make objects’ behaviors and characteristics respond to changes in their state or environment.</p>
</section>
<section id="custom-constructors-tailoring-the-agent" class="level4">
<h4 class="anchored" data-anchor-id="custom-constructors-tailoring-the-agent">Custom Constructors: Tailoring the Agent</h4>
<p>In the Bond universe, each agent is unique, with specific traits and skills. S7 allows for custom constructors, enabling the creation of objects with tailored initialization processes. This is like customizing an agent for a specific mission, ensuring they have exactly what they need.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom constructor for Spy</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>spy <span class="ot">&lt;-</span> <span class="fu">new_class</span>(<span class="st">"Spy"</span>, <span class="at">properties =</span> <span class="fu">list</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">codeName =</span> class_character,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">equipment =</span> class_character,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">assignment =</span> class_character</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>), <span class="at">constructor =</span> <span class="cf">function</span>(codeName, gadgets) {</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_object</span>(spy, <span class="at">codeName =</span> codeName, <span class="at">equipment =</span> <span class="fu">paste</span>(gadgets, <span class="at">collapse =</span> <span class="st">"; "</span>), <span class="at">assignment =</span> <span class="st">"Assignment Pending"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a tailored spy</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">spy</span>(<span class="at">codeName =</span> <span class="st">"Q"</span>, <span class="at">gadgets =</span> <span class="fu">c</span>(<span class="st">"Camera Pen"</span>, <span class="st">"Explosive Watch"</span>))</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>q</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>Spy<span class="sc">&gt;</span> <span class="cf">function</span> (codeName, gadgets)  </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> codeName  <span class="sc">:</span> chr <span class="st">"Q"</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> equipment <span class="sc">:</span> chr <span class="st">"Camera Pen; Explosive Watch"</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span> assignment<span class="sc">:</span> chr <span class="st">"Assignment Pending"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This custom constructor allows for more complex object initialization, providing greater control over how objects are created and configured.</p>
</section>
</section>
</section>
<section id="license-to-thrive-in-complexity" class="level2">
<h2 class="anchored" data-anchor-id="license-to-thrive-in-complexity">License to Thrive in Complexity</h2>
<p>The advanced features of S7, much like the sophisticated elements of a Bond film, provide R programmers with powerful tools to handle complex programming challenges. Multiple dispatch, dynamic properties, and custom constructors open up a realm of possibilities, enabling the creation of more versatile, adaptable, and efficient code. With S7, R programmers are equipped with a ‘license to thrive’ in the complex world of data science and statistical programming.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>For everybody, not to be fooled by numbers</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>