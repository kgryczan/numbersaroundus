<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Numbers around us">
<meta name="dcterms.date" content="2024-02-01">

<title>Shadow and Substance: Unveiling the Twin Mysteries of Correlation and Covariance – Numbers Around Us</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-cb71375167fd9ce754afb6fa31d3f44e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-1a65b4115a9519dac2c2f4ba2497ca08.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Numbers Around Us</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../last-articles.html"> 
<span class="menu-text">Newest articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../challenges/index.html"> 
<span class="menu-text">Challenges</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bi/index.html"> 
<span class="menu-text">Business Intelligence</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../ds/index.html"> 
<span class="menu-text">Data Science</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../dp/index.html"> 
<span class="menu-text">Data Philosophy</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com" title="Github" class="quarto-navigation-tool px-1" aria-label="Github"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Shadow and Substance: Unveiling the Twin Mysteries of Correlation and Covariance</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Numbers around us </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 1, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src="images/correl.jpg" class="img-fluid"></p>
<p>In the grand tapestry of statistical analysis, the threads of correlation and covariance weave a complex narrative, telling stories hidden within data. Like twin stars in a vast galaxy of numbers, these concepts illuminate the relationships and patterns that guide us in understanding the world around us.</p>
<p>Correlation and covariance are fundamental to the field of statistics, serving as the cornerstone for various analyses in fields ranging from economics to psychology, from climate science to finance. However, these concepts often remain shrouded in a mist of complexity and misunderstanding. This article aims to dispel that fog, bringing clarity and insight to these critical statistical tools.</p>
<p>But these concepts do not dance alone in the ballroom of data analysis. They are accompanied by the subtle nuances of coincidence, the intricate patterns of co-occurrence, and the powerful assertions of causation. Together, they form a harmonious symphony that resonates with every researcher’s quest for understanding.</p>
<p>In this exploration, we will embark on a journey through the realms of correlation and covariance, navigating their intricacies and discovering how they interact with the broader concepts of coincidence, co-occurrence, and causation. We will untangle the complex web they weave, providing readers with the tools to not only understand these concepts but to apply them wisely in their analytical endeavors.</p>
<p>Through this expedition, we aim to equip you, the reader, with a deeper comprehension of these statistical phenomena, enabling you to harness their power in your quest for knowledge and truth in the world of data.</p>
<p>Let us begin this journey of discovery, where numbers speak louder than words, and data tells tales that transform our understanding of the world.</p>
<section id="understanding-correlation" class="level2">
<h2 class="anchored" data-anchor-id="understanding-correlation">Understanding Correlation</h2>
<p>In the grand narrative of data analysis, correlation emerges as a fundamental character, revealing the hidden dynamics between variables. It is the statistical storyteller that narrates how one variable dances with another, describing the rhythm and harmony of their movement.</p>
<p>At its core, correlation represents the degree to which two variables are related. This relationship can take various forms, echoing the diverse patterns of life. In positive correlation, we see variables moving in tandem, akin to the synchronized growth of tree branches and their leaves; as one grows, so does the other. This is a tale of companionship and mutual direction, a story of variables that share a common path.</p>
<p>On the other hand, negative correlation tells a different story. Here, as one variable increases, the other decreases, reminiscent of a seesaw’s balance. It’s a narrative of inverse relationships, like the bond between shadows and light; as the day progresses and the sun climbs higher, the shadows shorten.</p>
<p>Yet, there are times when variables seem to walk their paths independently, without acknowledging each other. This is the realm of zero correlation, where no discernible relationship exists. It’s like the unrelated courses of boats on a vast ocean, each charting its own unique journey, unaffected by the other’s presence.</p>
<p>The correlation coefficient, denoted as ‘r’, quantifies this relationship. It is a numerical value that ranges from -1 to 1, encapsulating the essence of the relationship’s strength and direction. A coefficient close to +1 indicates a strong positive correlation, while one near -1 signifies a strong negative correlation. When ‘r’ hovers around 0, it tells us of the absence of a linear relationship.</p>
<p>Visualizing correlation can be as enlightening as watching stars in the night sky. Scatter plots serve this purpose, where each point represents a pair of values, and the pattern they form unveils the story of their relationship. These plots are the canvases where correlation paints its picture, allowing us to visually grasp the nature of the relationship between variables.</p>
<p>Yet, in the alluring dance of correlation, one must tread carefully, for it is easy to be swayed by its rhythm and misinterpret the nature of these relationships. A key caution in this tale is that correlation does not imply causation. Just because two variables move in unison or in opposition, it doesn’t mean that one’s motion causes the other’s. They might be linked by an unseen third factor, or their association might be a mere coincidence, a trick of chance in the vast randomness of the universe.</p>
<p>To bring this concept to life, let us turn to R for a practical demonstration. Using the famous ‘Iris’ dataset, we can explore the correlation between various features of iris flowers. The Iris dataset, a classic in the world of data analysis, provides measurements of sepal length, sepal width, petal length, and petal width for three species of iris flowers.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the necessary library</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the Iris dataset</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot to visualize the correlation</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length, <span class="at">y=</span>Petal.Length)) <span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Correlation between Sepal Length and Petal Length in Iris Dataset"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating the correlation coefficient</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>correlation_coefficient <span class="ot">&lt;-</span> <span class="fu">cor</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Petal.Length)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Correlation Coefficient between Sepal Length and Petal Length:"</span>, correlation_coefficient))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "Correlation Coefficient between Sepal Length and Petal Length: 0.872"</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># This coefficient shows strong positive correlation.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="https://cdn-images-1.medium.com/max/800/1*u08_ZlyqKzwsWU7S3Hk64g.png" class="img-fluid"></p>
<p>In this example, we observe the correlation between sepal length and petal length in iris flowers, using a scatter plot for visualization and calculating the correlation coefficient to quantify their relationship.</p>
<p>This exploration of correlation, from its conceptual underpinnings to its practical application, sets the foundation for our journey through the world of data relationships. As we delve deeper into the realms of covariance, coincidence, co-occurrence, and causation in the following chapters, the understanding of correlation will serve as our guiding light.</p>
</section>
<section id="demystifying-covariance" class="level2">
<h2 class="anchored" data-anchor-id="demystifying-covariance">Demystifying Covariance</h2>
<p>As we journey deeper into the statistical landscape, we encounter covariance, a concept that reveals the subtleties of the relationship between variables. Covariance steps beyond the binary rhythm of correlation, offering a richer melody that captures the extent and scale of the interplay between datasets.</p>
<p>Covariance is akin to the shadow that complements the light of correlation. It measures the extent to which two variables change together, but it also considers the scale of their movements. If correlation is the direction of the relationship, covariance is its magnitude, the depth of their tandem dance.</p>
<p>The tale of covariance is one of joint variability. When two variables show a positive covariance, they rise and fall in harmony, much like the synchronized ascent and descent of birds in flight. In contrast, a negative covariance portrays a divergent path, where an increase in one variable is mirrored by a decrease in the other, reminiscent of the ebb and flow of tides against the shoreline.</p>
<p>However, unlike correlation, covariance is sensitive to the scale of the variables. It’s not just about whether the variables move together but also about how much they do so. This sensitivity to scale is what makes covariance a more nuanced measure, giving a fuller picture of the relationship between variables.</p>
<p>The computation of covariance involves assessing how much each variable deviates from its mean and then combining these deviations for each data point. It’s a mathematical embrace, capturing the joint variability in a single measure. Yet, this embrace is not always easy to interpret due to its scale-dependence, making it less straightforward than the normalized measure of correlation.</p>
<p>In practical terms, covariance is a key concept in fields where understanding the joint behavior of variables is crucial. In finance, for example, covariance is used to diversify investments, as it helps in understanding how different financial instruments move together.</p>
<p>To illustrate covariance in action, we can utilize the same <code>mtcars</code> dataset from R, examining the covariance between the miles per gallon (mpg) and the weight (wt) of cars. This practical example will showcase how covariance quantifies the relationship between these two variables.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the mtcars dataset</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating the covariance</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>covariance_value <span class="ot">&lt;-</span> <span class="fu">cov</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Covariance between MPG and Weight:"</span>, <span class="fu">round</span>(covariance_value, <span class="dv">3</span>)))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "Covariance between MPG and Weight: -5.117"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This R script calculates the covariance between mpg and wt in the <code>mtcars</code> dataset, providing a glimpse into how these two variables vary together in the real world.</p>
<p>Understanding covariance is essential for grasping the depth of relationships in data analysis. It offers a perspective that, while more complex than correlation, is invaluable in revealing the extent to which variables share their stories.</p>
</section>
<section id="exploring-the-interplay-correlation-covariance-and-co-occurrence" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-interplay-correlation-covariance-and-co-occurrence">Exploring the Interplay: Correlation, Covariance, and Co-occurrence</h2>
<p>In the realm of statistics, understanding the relationships between variables is akin to unraveling a complex tapestry. Each thread — be it correlation, covariance, or co-occurrence — contributes to the overall picture, yet it is in their interweaving that the most intricate patterns emerge.</p>
<section id="correlation-and-covariance-the-dynamic-duo" class="level3">
<h3 class="anchored" data-anchor-id="correlation-and-covariance-the-dynamic-duo">Correlation and Covariance — The Dynamic Duo</h3>
<p>Correlation and covariance, often mentioned in the same breath, are the dynamic duo of statistical analysis. They both speak to the relationships between variables, but in subtly different languages. Correlation, with its standardized scale, tells us about the direction and strength of a relationship. It answers whether two variables move in unison or opposition, akin to dancers moving together or away from each other in a ballet.</p>
<p>Covariance, on the other hand, brings in the aspect of scale, adding depth to the narrative. It not only indicates the direction of the relationship but also its intensity. Think of covariance as measuring the strength of the wind in the sails of a ship; the stronger the wind (covariance), the more significant the ship’s movement (correlation).</p>
</section>
<section id="the-role-of-co-occurrence" class="level3">
<h3 class="anchored" data-anchor-id="the-role-of-co-occurrence">The Role of Co-occurrence</h3>
<p>Yet, to fully appreciate the dance of data, one must also understand co-occurrence. This concept steps into the spotlight when we consider the frequency or likelihood of two variables occurring together. Co-occurrence is the rhythm to which correlation and covariance dance. It doesn’t just highlight the presence of a relationship; it underscores the conditions and contexts in which this relationship is most pronounced.</p>
<p>Imagine studying the relationship between rainfall and crop yield. Correlation and covariance might indicate a positive relationship, but co-occurrence tells us more about the specific patterns of rainfall (e.g., light, moderate, heavy) that most frequently align with high crop yields.</p>
</section>
<section id="interweaving-the-concepts" class="level3">
<h3 class="anchored" data-anchor-id="interweaving-the-concepts">Interweaving the Concepts</h3>
<p>These three concepts, when woven together, offer a richer, more nuanced understanding of data. They allow us to see not just the presence of relationships, but their nature, their strength, and the conditions under which they manifest. This comprehensive view is crucial in fields ranging from environmental science to market research, where understanding the subtleties of these relationships can lead to more informed decisions and predictions.</p>
</section>
<section id="practical-exploration-in-r" class="level3">
<h3 class="anchored" data-anchor-id="practical-exploration-in-r">Practical Exploration in R</h3>
<p>To demonstrate the interplay of correlation, covariance, and co-occurrence, we’ll use R to generate a simulated dataset. This dataset will allow us to explore these concepts in a controlled environment, where we can clearly see how they manifest and interact.</p>
<p>Let’s create a dataset with two variables that have a defined relationship. We’ll then calculate their correlation, covariance, and analyze their co-occurrence.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the seed for reproducibility</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate random data</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>variable1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">10</span>)  <span class="co"># Normally distributed data</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>variable2 <span class="ot">&lt;-</span> variable1 <span class="sc">*</span> <span class="fl">0.5</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>)  <span class="co"># Correlated with variable1</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>data_set <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(variable1, variable2)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating correlation and covariance</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>correlation_value <span class="ot">&lt;-</span> <span class="fu">cor</span>(data_set<span class="sc">$</span>variable1, data_set<span class="sc">$</span>variable2)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>covariance_value <span class="ot">&lt;-</span> <span class="fu">cov</span>(data_set<span class="sc">$</span>variable1, data_set<span class="sc">$</span>variable2)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyzing co-occurrence</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, we'll categorize the data into bins and count the co-occurrences</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>data_set<span class="sc">$</span>categorized_var1 <span class="ot">&lt;-</span> <span class="fu">cut</span>(data_set<span class="sc">$</span>variable1, <span class="at">breaks=</span><span class="dv">5</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>data_set<span class="sc">$</span>categorized_var2 <span class="ot">&lt;-</span> <span class="fu">cut</span>(data_set<span class="sc">$</span>variable2, <span class="at">breaks=</span><span class="dv">5</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>co_occurrences <span class="ot">&lt;-</span> <span class="fu">table</span>(data_set<span class="sc">$</span>categorized_var1, data_set<span class="sc">$</span>categorized_var2)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Output results</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Correlation: "</span>, <span class="fu">round</span>(correlation_value, <span class="dv">3</span>)))</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Covariance: "</span>, <span class="fu">round</span>(covariance_value, <span class="dv">3</span>)))</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Co-occurrence Matrix:"</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(co_occurrences)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "Correlation:  0.667"</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "Covariance:  39.476"</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "Co-occurrence Matrix:"</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co">#               (30.3,36.1] (36.1,42] (42,47.8] (47.8,53.6] (53.6,59.4]</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="co">#   (26.9,35.9]           3         1         0           0           0</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="co">#   (35.9,44.9]           4        10         2           3           1</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="co">#   (44.9,53.9]           2        10        18          10           0</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="co">#   (53.9,62.9]           0         3         9          10           4</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="co">#   (62.9,71.9]           0         0         3           4           3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this script, we first generate two normally distributed variables, <code>variable1</code> and <code>variable2</code>, where <code>variable2</code> is partially dependent on <code>variable1</code>. This setup allows us to calculate and explore their correlation and covariance. Additionally, by categorizing these variables and creating a co-occurrence matrix, we can observe how frequently different ranges of values appear together, thereby illustrating the concept of co-occurrence.</p>
</section>
<section id="interpreting-the-results" class="level3">
<h3 class="anchored" data-anchor-id="interpreting-the-results">Interpreting the Results</h3>
<ul>
<li>The calculated correlation value will give us a standardized indication of how these variables relate to each other.</li>
<li>The covariance value will provide insight into the direction and magnitude of their relationship.</li>
<li>The co-occurrence matrix will show us how often different ranges or categories of these variables appear together, adding a layer of understanding about their joint behavior.</li>
</ul>
<p>This practical example in R not only demonstrates the calculations but also brings to light the nuanced relationship between correlation, covariance, and co-occurrence in a dataset.</p>
</section>
</section>
<section id="coincidence-correlation-and-causation-navigating-the-maze-of-interpreting-data" class="level2">
<h2 class="anchored" data-anchor-id="coincidence-correlation-and-causation-navigating-the-maze-of-interpreting-data">Coincidence, Correlation, and Causation: Navigating the Maze of Interpreting Data</h2>
<p>In the intricate world of statistical analysis, the concepts of coincidence, correlation, and causation form a complex web, often leading to misinterpretations and misconceptions. This chapter is a deep dive into understanding these critical yet often conflated concepts, aided by an illustrative R example with a generated dataset.</p>
<section id="coincidence-the-art-of-random-chance" class="level3">
<h3 class="anchored" data-anchor-id="coincidence-the-art-of-random-chance">Coincidence: The Art of Random Chance</h3>
<p>Coincidence is the serendipitous alignment of events that, while appearing connected, arise from independent mechanisms. It’s the statistical equivalent of a chance meeting on a busy street; intriguing, but without underlying causality. In a universe teeming with data, coincidences are not only common but also expected. The human propensity to seek patterns often leads us to infer relationships where none exist, mistaking the echo for the voice.</p>
</section>
<section id="correlation-the-shadow-dance-of-data" class="level3">
<h3 class="anchored" data-anchor-id="correlation-the-shadow-dance-of-data">Correlation: The Shadow Dance of Data</h3>
<p>Correlation measures how two variables move in concert, a dance of numbers where one follows the lead of the other. But like shadows on a wall, correlation does not imply that one variable illuminates or influences the other. It’s a measurement of association, not causation. The adage “correlation does not imply causation” is crucial here; it’s a warning to tread carefully in the interpretive dance of statistical analysis.</p>
</section>
<section id="causation-the-cog-in-the-machine" class="level3">
<h3 class="anchored" data-anchor-id="causation-the-cog-in-the-machine">Causation: The Cog in the Machine</h3>
<p>Causation, on the other hand, is the cog that drives the wheel. It represents a cause-and-effect relationship, where changes in one variable directly bring about changes in another. Establishing causation is akin to uncovering the inner workings of a clock, understanding not just the movement of its hands but the gears that drive them.</p>
</section>
<section id="the-pitfalls-of-misinterpretation" class="level3">
<h3 class="anchored" data-anchor-id="the-pitfalls-of-misinterpretation">The Pitfalls of Misinterpretation</h3>
<p>Consider the tongue-in-cheek meme, “Everybody who mistakes correlation for causation will die.” While humorously highlighting a universal truth (everyone will indeed die), it also underscores the fallacy of linking correlation with causation without proper evidence. Such statements, though absurd, are a playful reminder of the care needed in interpreting data.</p>
</section>
<section id="demonstrating-the-concepts-in-r" class="level3">
<h3 class="anchored" data-anchor-id="demonstrating-the-concepts-in-r">Demonstrating the Concepts in R</h3>
<p>To illustrate these concepts, we’ll generate a dataset in R and explore the relationships between the variables, mindful of the distinctions between correlation, coincidence, and causation.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a dataset</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2024</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>variable_x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>variable_y <span class="ot">&lt;-</span> variable_x <span class="sc">*</span> <span class="fl">0.3</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>simulated_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(variable_x, variable_y)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating correlation</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>correlation_xy <span class="ot">&lt;-</span> <span class="fu">cor</span>(simulated_data<span class="sc">$</span>variable_x, simulated_data<span class="sc">$</span>variable_y)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear regression to explore potential causation</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(variable_y <span class="sc">~</span> variable_x, <span class="at">data=</span>simulated_data)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>model_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(model)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Output results</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Correlation: "</span>, correlation_xy))</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "Correlation:  0.551"</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(model_summary)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Call:</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co"># lm(formula = variable_y ~ variable_x, data = simulated_data)</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals:</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     Min      1Q  Median      3Q     Max </span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="co"># -15.019  -3.322  -0.026   3.612  11.473 </span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients:</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co">#             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co"># (Intercept) 19.20790    2.52795   7.598 1.81e-11 ***</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="co"># variable_x   0.32955    0.05037   6.543 2.76e-09 ***</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="co"># ---</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Residual standard error: 5.124 on 98 degrees of freedom</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple R-squared:  0.304, Adjusted R-squared:  0.2969 </span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="co"># F-statistic: 42.81 on 1 and 98 DF,  p-value: 2.759e-09</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="fu">report</span>(model)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>We fitted a linear <span class="fu">model</span> (estimated using OLS) to predict variable_y with <span class="fu">variable_x</span> (formula<span class="sc">:</span> variable_y <span class="sc">~</span> variable_x). The model</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>explains a statistically significant and substantial proportion of <span class="fu">variance</span> (<span class="at">R2 =</span> <span class="fl">0.30</span>, <span class="fu">F</span>(<span class="dv">1</span>, <span class="dv">98</span>) <span class="ot">=</span> <span class="fl">42.81</span>, p <span class="sc">&lt;</span> .<span class="dv">001</span>, adj. <span class="at">R2 =</span> <span class="fl">0.30</span>). The</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>model<span class="st">'s intercept, corresponding to variable_x = 0, is at 19.21 (95% CI [14.19, 24.22], t(98) = 7.60, p &lt; .001). Within this model:</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="st">  - The effect of variable x is statistically significant and positive (beta = 0.33, 95% CI [0.23, 0.43], t(98) = 6.54, p &lt; .001; Std. beta</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="st">= 0.55, 95% CI [0.38, 0.72])</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="st">Standardized parameters were obtained by fitting the model on a standardized version of the dataset. 95% Confidence Intervals (CIs) and</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="st">p-values were computed using a Wald t-distribution approximation.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This R code generates two variables where one is partially dependent on the other, simulating a situation where correlation is evident. The linear regression analysis explores the potential for causation, but as the meme humorously reminds us, we must be cautious in interpreting these results as evidence of causation.</p>
<p>Understanding the nuances between coincidence, correlation, and causation is essential for accurate data interpretation. It requires a discerning eye to navigate this maze, recognizing the allure of easy conclusions while seeking deeper, evidence-based understanding.</p>
</section>
</section>
<section id="advanced-applications-and-statistical-significance" class="level2">
<h2 class="anchored" data-anchor-id="advanced-applications-and-statistical-significance">Advanced Applications and Statistical Significance</h2>
<p>As we delve deeper into the statistical odyssey, the concepts of correlation, covariance, and causation serve as the compass guiding us toward advanced applications and the all-important realm of statistical significance. This juncture is where the fundamental meets the complex, where the theories and numbers we’ve explored so far begin to paint pictures in more vivid, multidimensional colors.</p>
<section id="the-far-reaching-impact-of-advanced-applications" class="level3">
<h3 class="anchored" data-anchor-id="the-far-reaching-impact-of-advanced-applications">The Far-Reaching Impact of Advanced Applications</h3>
<p>In the intricate world of data, the applications of correlation, covariance, and causation stretch far and wide, influencing decisions in fields as diverse as finance, health sciences, social research, and beyond. For instance, in finance, understanding the covariance between different asset returns is instrumental in constructing a diversified investment portfolio. It helps investors manage risk by combining assets that do not move identically, providing a safety net against market volatility.</p>
<p>In the realm of health sciences, particularly in epidemiology, the exploration of correlation and causation is central to uncovering the relationships between various health factors and outcomes. Epidemiologists delve into these relationships to understand how certain behaviors or environmental factors might correlate with health outcomes, always cautious to not hastily infer causation without thorough, evidence-based research.</p>
</section>
<section id="regression-analysis-the-bridge-between-concepts-and-application" class="level3">
<h3 class="anchored" data-anchor-id="regression-analysis-the-bridge-between-concepts-and-application">Regression Analysis: The Bridge Between Concepts and Application</h3>
<p>Regression analysis stands as a critical bridge between the theoretical concepts of correlation and causation and their practical applications. By examining the relationship between a dependent variable and one or more independent variables, regression models can uncover patterns and relationships that might indicate causal links. It’s like adding a third dimension to the flat landscape of correlation, allowing us to see the contours of potential cause-and-effect relationships.</p>
<p>However, it’s crucial to navigate this bridge with caution. While regression can suggest potential causal relationships, it is not definitive proof of such. The interpretation of regression results requires a careful consideration of the context, the underlying data, and the possibility of confounding variables.</p>
</section>
<section id="statistical-significance-separating-the-wheat-from-the-chaff" class="level3">
<h3 class="anchored" data-anchor-id="statistical-significance-separating-the-wheat-from-the-chaff">Statistical Significance: Separating the Wheat from the Chaff</h3>
<p>In the sea of data and analyses, statistical significance acts as the lighthouse, guiding researchers away from the rocky shores of random chance. It’s a tool for determining whether the results of an analysis reflect true relationships or are merely the products of statistical noise.</p>
<p>At the heart of assessing statistical significance are p-values and confidence intervals. A p-value, in its essence, tells us the probability of observing our results (or more extreme) if the null hypothesis (often, the hypothesis of no effect or no difference) were true. It’s a gauge of how surprising our results are under the assumption of the null hypothesis.</p>
<p>Confidence intervals, on the other hand, provide a range of values within which we can be confident (to a certain level, typically 95%) that the true value of a parameter lies. They give us a sense of the precision of our estimates, adding depth to the understanding provided by p-values.</p>
<p>As we traverse the landscape of advanced statistical applications and significance testing, the journey becomes less about the mechanics of calculation and more about the art of interpretation. It’s here, in this nuanced space, where the true power and potential of statistical analysis are realized, offering insights that are both profound and, crucially, reliable.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>As we reach the end of our statistical journey, we find ourselves enriched with a deeper understanding of the intricate interplay between correlation, covariance, coincidence, co-occurrence, and causation. This exploration has not only illuminated the technical aspects of these concepts but also underscored their profound implications in the realm of data interpretation and analysis.</p>
<section id="reflecting-on-the-journey" class="level3">
<h3 class="anchored" data-anchor-id="reflecting-on-the-journey">Reflecting on the Journey</h3>
<p>Our expedition began with unraveling the nuances of correlation and covariance, understanding their roles in revealing the relationships within data. We saw how correlation could depict the direction and strength of a relationship, while covariance added a layer of depth by considering the scale of variable interaction.</p>
<p>We then navigated through the realms of coincidence and co-occurrence, recognizing the importance of context and frequency in interpreting data relationships. This understanding was crucial in distinguishing mere coincidental occurrences from meaningful correlations.</p>
<p>The exploration of causation, perhaps the most intricate part of our journey, highlighted the critical distinction between correlation and causation — a distinction that remains a cornerstone of sound statistical reasoning and analysis.</p>
</section>
<section id="the-art-and-science-of-interpretation" class="level3">
<h3 class="anchored" data-anchor-id="the-art-and-science-of-interpretation">The Art and Science of Interpretation</h3>
<p>What emerges from this exploration is the realization that statistical analysis is as much an art as it is a science. It demands not only technical expertise but also a discerning eye for context, a cautious approach to interpretation, and an awareness of the multifaceted nature of data. The tools of correlation, covariance, and their related concepts are powerful, yet they require careful handling to avoid the pitfalls of misinterpretation.</p>
</section>
<section id="looking-forward" class="level3">
<h3 class="anchored" data-anchor-id="looking-forward">Looking Forward</h3>
<p>As we step forward, equipped with these insights, we enter a world of data that is vast and ever-expanding. The skills and knowledge acquired through this exploration are more than just academic tools; they are beacons that guide us in making informed, data-driven decisions in various fields, from business and finance to healthcare and public policy.</p>
</section>
<section id="a-call-to-continued-learning" class="level3">
<h3 class="anchored" data-anchor-id="a-call-to-continued-learning">A Call to Continued Learning</h3>
<p>Finally, this journey does not end here. The world of statistics is dynamic, continually evolving with new theories, methods, and applications. The pursuit of knowledge in this field is a lifelong endeavor, one that promises not only intellectual satisfaction but also the ability to make meaningful contributions to our understanding of the world.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>For everybody, not to be fooled by numbers</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>