<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Numbers around us">
<meta name="dcterms.date" content="2025-01-21">

<title>The Joy of Efficient Coding: RStudio Shortcuts and Tricks for Maximum Productivity – Numbers Around Us</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-697306ee647f3aecb60be57249203282.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-3fe3df12cb322cd60d4f50ab5ce79ec8.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-71a1c0b2fece7d4d1d4daa5e23e0c0ad.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-00ab377d17f9c7e1b98bb5b1ff2b2f0e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Numbers Around Us</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../last-articles.html"> 
<span class="menu-text">Newest articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../challenges/index.html"> 
<span class="menu-text">Challenges</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bi/index.html"> 
<span class="menu-text">Business Intelligence</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../ds/index.html"> 
<span class="menu-text">Data Science</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../dp/index.html"> 
<span class="menu-text">Data Philosophy</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com" title="Github" class="quarto-navigation-tool px-1" aria-label="Github"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Joy of Efficient Coding: RStudio Shortcuts and Tricks for Maximum Productivity</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Numbers around us </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 21, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src="images/RStudioproductivity.jpg" class="img-fluid"></p>
<p>RStudio is more than just a development environment for R programming—it’s a thoughtfully designed workspace that empowers coders to write cleaner, faster, and more efficient code. But beyond its visible tools and panels lies a treasure trove of features that can turn coding from a routine task into a genuinely enjoyable experience. Whether it’s the thrill of navigating seamlessly through scripts, effortlessly formatting your code, or discovering hidden shortcuts that save minutes every day, RStudio is packed with possibilities that make every line of code a pleasure to write.</p>
<p>This article is your guide to unlocking the productivity and delight hidden within RStudio. From essential keyboard shortcuts to advanced tools for refactoring and automation, you’ll learn how to transform your workflow into something that not only boosts efficiency but also brings joy to the act of coding. Ready to fall in love with RStudio all over again? Let’s dive in.</p>
<section id="essential-keyboard-shortcuts-small-actions-big-impact" class="level3">
<h3 class="anchored" data-anchor-id="essential-keyboard-shortcuts-small-actions-big-impact">Essential Keyboard Shortcuts: Small Actions, Big Impact</h3>
<p>In RStudio, mastering keyboard shortcuts is like learning the secret handshakes of a highly efficient coding club. These small keystroke combinations save seconds that quickly add up, helping you stay in the zone and focus on solving problems rather than clicking around. From running code and navigating files to commenting lines and inserting operators, shortcuts are the foundation of a fast and fluid workflow.</p>
<p>Here are some must-know RStudio shortcuts to supercharge your coding:</p>
<ul>
<li><p><strong>Ctrl + Enter</strong> (Windows) / <strong>Cmd + Enter</strong> (Mac): Run the current line or selected code.</p></li>
<li><p><strong>Ctrl + Shift + M</strong>: Insert the pipe operator (<code>%&gt;%</code>) with a single command.</p></li>
<li><p><strong>Ctrl + Shift + C</strong>: Toggle comments on the selected lines or the current line.</p></li>
<li><p><strong>Ctrl + D</strong>: Duplicate the current line or selected block for quick edits.</p></li>
<li><p><strong>Ctrl + Shift + F</strong>: Search for text across all files in your project.</p></li>
<li><p><strong>Ctrl + F</strong>: Search within the current file.</p></li>
<li><p><strong>Ctrl + I</strong>: Reindent selected code for improved readability.</p></li>
<li><p><strong>Alt + Shift + K</strong>: Open a full list of keyboard shortcuts to explore even more tricks.</p></li>
</ul>
<p>With these shortcuts at your fingertips, your workflow will become more efficient, and coding will feel smoother and more intuitive. Remember, the best way to master these is through regular practice—try using a new shortcut each day until it becomes second nature.</p>
</section>
<section id="autocomplete-and-intelligent-code-suggestions" class="level3">
<h3 class="anchored" data-anchor-id="autocomplete-and-intelligent-code-suggestions">Autocomplete and Intelligent Code Suggestions</h3>
<p>One of the most satisfying aspects of RStudio is how it anticipates your coding needs. Its autocomplete and intelligent code suggestion features allow you to write code faster and with fewer errors, making the entire process more enjoyable and efficient. Whether you’re typing a function name, object name, or even the arguments for a function, RStudio’s autocomplete has your back.</p>
<section id="key-features-of-rstudio-autocomplete" class="level4">
<h4 class="anchored" data-anchor-id="key-features-of-rstudio-autocomplete">Key Features of RStudio Autocomplete:</h4>
<ul>
<li><p><strong>Autocomplete Function Names</strong>: Start typing and press <strong>Tab</strong> to get a list of matching functions or objects in your workspace.</p></li>
<li><p><strong>Function Argument Hints</strong>: After typing a function name and opening a parenthesis, press <strong>Tab</strong> to view its arguments, helping you avoid mistakes.</p></li>
<li><p><strong>Integrated Help</strong>: Hover over a function name or press <strong>F1</strong> to open the help file and understand its usage without leaving your script.</p></li>
<li><p><strong>Matching Brackets and Quotes</strong>: RStudio automatically adds the closing parenthesis, square bracket, curly brace, or quote whenever you type the opening one, ensuring your code stays balanced.</p></li>
</ul>
</section>
<section id="rainbow-brackets-code-clarity-at-a-glance" class="level4">
<h4 class="anchored" data-anchor-id="rainbow-brackets-code-clarity-at-a-glance">Rainbow Brackets: Code Clarity at a Glance</h4>
<p>For nested code, the <strong>rainbow parentheses</strong> feature visually matches brackets with different colors. This simple yet powerful tool prevents confusion in deeply nested structures, like loops or conditional statements. You can enable this feature by going to Code menu and checking “Rainbow parentheses.”</p>
</section>
<section id="github-copilot-your-ai-powered-coding-assistant" class="level4">
<h4 class="anchored" data-anchor-id="github-copilot-your-ai-powered-coding-assistant">GitHub Copilot: Your AI-Powered Coding Assistant</h4>
<p>GitHub Copilot takes autocomplete to a whole new level by leveraging AI to suggest complete lines or even entire blocks of code as you type. It works by analyzing the context of your script and predicting what you’re likely to write next, drawing from its training on vast amounts of publicly available code.</p>
<p>Here’s how it works in RStudio:</p>
<ol type="1">
<li><p><strong>Installation</strong>: Install the GitHub Copilot extension for your IDE (RStudio support requires using Visual Studio Code or an appropriate setup with RStudio integrations).</p></li>
<li><p><strong>Contextual Suggestions</strong>: As you start typing, Copilot analyzes your code and presents inline suggestions. For example:</p>
<ul>
<li><p>If you write <code>library(ggplot2)</code> and start a plot with <code>ggplot(data, aes</code>, Copilot may suggest the rest of the <code>ggplot</code> syntax based on common patterns.</p></li>
<li><p>Typing <code>for (i in 1:n)</code> might prompt a complete loop structure with placeholders for customization.</p></li>
</ul></li>
<li><p><strong>Acceptance and Editing</strong>: Press <strong>Tab</strong> to accept a suggestion or keep typing to refine it. If multiple suggestions are available, Copilot allows you to cycle through options.</p></li>
<li><p><strong>Custom Functionality</strong>: Start writing a function or algorithm, and Copilot will attempt to complete it. For example, typing a comment like <code># Function to calculate Fibonacci numbers</code> could prompt a complete function implementation.</p></li>
</ol>
<p>By streamlining repetitive tasks, reducing syntax errors, and even providing inspiration for tackling coding challenges, GitHub Copilot transforms coding into a collaborative experience. It’s especially useful when you’re exploring new techniques or working with unfamiliar libraries.</p>
</section>
</section>
<section id="multi-cursor-editing-one-action-multiple-changes" class="level3">
<h3 class="anchored" data-anchor-id="multi-cursor-editing-one-action-multiple-changes">Multi-Cursor Editing: One Action, Multiple Changes</h3>
<p>When working with repetitive tasks, multi-cursor editing can save you significant time by allowing you to make simultaneous edits in multiple places. This feature is particularly helpful when renaming variables, adding repetitive structures, or formatting several lines of code at once.</p>
<section id="how-multi-cursor-editing-works-in-rstudio" class="level4">
<h4 class="anchored" data-anchor-id="how-multi-cursor-editing-works-in-rstudio">How Multi-Cursor Editing Works in RStudio:</h4>
<ol type="1">
<li><p><strong>Add Multiple Cursors</strong>:</p>
<ul>
<li>Press <strong>Ctrl + Alt + Click</strong> (Windows) or <strong>Cmd + Option + Click</strong> (Mac) to place additional cursors wherever you need them.</li>
</ul></li>
<li><p><strong>Bulk Edits</strong>:</p>
<ul>
<li><p>Once you have multiple cursors, you can type, delete, or paste code simultaneously in all selected spots.</p></li>
<li><p>For example, if you need to change a variable name across several lines, place cursors at each instance of the variable and type the new name to update them all at once.</p></li>
</ul></li>
<li><p><strong>Column Editing</strong>:</p>
<ul>
<li>Select a block of text and press <strong>Shift + Alt</strong> while dragging vertically to create a multi-cursor selection aligned to specific columns.</li>
</ul></li>
</ol>
<p>This functionality eliminates the need to make changes line by line, saving you from repetitive tasks and allowing you to focus on more complex parts of your code.</p>
</section>
</section>
<section id="code-snippets-write-reusable-templates-in-seconds" class="level3">
<h3 class="anchored" data-anchor-id="code-snippets-write-reusable-templates-in-seconds">Code Snippets: Write Reusable Templates in Seconds</h3>
<p>Code snippets in RStudio allow you to quickly insert common patterns or boilerplate code, saving you time and ensuring consistency. Whether you’re frequently writing loops, functions, or plotting structures, snippets are an invaluable tool for speeding up repetitive coding tasks.</p>
<section id="using-built-in-snippets" class="level4">
<h4 class="anchored" data-anchor-id="using-built-in-snippets">Using Built-In Snippets</h4>
<p>RStudio comes with preloaded snippets that you can use right away:</p>
<ul>
<li><p><strong><code>fun</code></strong>: Typing <code>fun</code> and pressing <strong>Tab</strong> inserts a function template:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(...) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong><code>for</code></strong>: Typing <code>for</code> expands into a complete for-loop structure:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
</section>
<section id="code-snippets-write-reusable-templates-in-seconds-1" class="level3">
<h3 class="anchored" data-anchor-id="code-snippets-write-reusable-templates-in-seconds-1">Code Snippets: Write Reusable Templates in Seconds</h3>
<p>Code snippets in RStudio allow you to quickly insert common patterns or boilerplate code, saving you time and ensuring consistency. Whether you’re frequently writing loops, functions, or plotting structures, snippets are an invaluable tool for speeding up repetitive coding tasks.</p>
<section id="using-built-in-snippets-1" class="level4">
<h4 class="anchored" data-anchor-id="using-built-in-snippets-1">Using Built-In Snippets</h4>
<p>RStudio comes with preloaded snippets that you can use right away:</p>
<ul>
<li><p><strong><code>fun</code></strong>: Typing <code>fun</code> and pressing <strong>Tab</strong> inserts a function template:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(...) {    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong><code>for</code></strong>: Typing <code>for</code> expands into a complete for-loop structure:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="creating-custom-snippets" class="level4">
<h4 class="anchored" data-anchor-id="creating-custom-snippets">Creating Custom Snippets</h4>
<p>If the built-in options don’t cover your needs, you can create custom snippets tailored to your workflow:</p>
<ol type="1">
<li><p>Go to <strong>Tools &gt; Global Options &gt; Code &gt; Edit Snippets</strong>.</p></li>
<li><p>Choose the language (e.g., <code>r</code>) and add your custom template.<br>
For instance, to create a snippet for a ggplot template:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>snippet ggplot</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="sc">$</span>{<span class="dv">1</span><span class="sc">:</span>data}, <span class="fu">aes</span>(<span class="sc">$</span>{<span class="dv">2</span><span class="sc">:</span>x}, <span class="sc">$</span>{<span class="dv">3</span><span class="sc">:</span>y})) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  geom_<span class="sc">$</span>{<span class="dv">4</span><span class="sc">:</span>point}()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Save the snippet, and use it by typing its name (e.g., <code>ggplot</code>) followed by <strong>Tab</strong>.</p></li>
</ol>
</section>
<section id="why-use-snippets" class="level4">
<h4 class="anchored" data-anchor-id="why-use-snippets">Why Use Snippets?</h4>
<p>Snippets not only save time but also reduce errors and ensure consistency. They’re particularly useful for beginners who want quick access to complex syntax or for advanced users automating repetitive coding patterns.</p>
</section>
</section>
<section id="extracting-variables-and-functions-refactor-like-a-pro" class="level3">
<h3 class="anchored" data-anchor-id="extracting-variables-and-functions-refactor-like-a-pro">Extracting Variables and Functions: Refactor Like a Pro</h3>
<p>Refactoring your code is crucial for improving readability and maintainability, especially in larger projects. RStudio simplifies this process with tools for extracting variables and functions, allowing you to clean up your scripts and make them more modular with just a few clicks.</p>
<section id="extract-variable" class="level4">
<h4 class="anchored" data-anchor-id="extract-variable">Extract Variable</h4>
<p>If you find yourself reusing the same expression multiple times, extracting it into a variable can make your code clearer and easier to modify.</p>
<ul>
<li><p><strong>How to Use</strong>:</p>
<ol type="1">
<li><p>Highlight the expression you want to extract.</p></li>
<li><p>Right-click and select <strong>Code &gt; Extract Variable</strong> (or Alt + Ctr + V).</p></li>
<li><p>RStudio will replace the selected expression with a new variable and insert its definition above.</p></li>
</ol>
<ul>
<li><p>Example:<br>
Before:</p>
<p>``<br>
plot(x + y, main = “My Plot”) ```</p></li>
<li><p>After:</p>
<pre><code>sum_xy &lt;- x + y
plot(sum_xy, main = "My Plot")</code></pre></li>
</ul></li>
</ul>
</section>
<section id="extract-function" class="level4">
<h4 class="anchored" data-anchor-id="extract-function">Extract Function</h4>
<p>Turn repetitive blocks of code into reusable functions with the extract function tool:</p>
<ul>
<li><p><strong>How to Use</strong>:</p>
<ol type="1">
<li><p>Highlight the block of code to be refactored.</p></li>
<li><p>Right-click and choose <strong>Code &gt; Extract Function</strong> (or Alt + Ctrl + X)</p></li>
<li><p>Name your function, and RStudio will automatically generate the function definition and replace the code block with a function call.</p></li>
</ol>
<ul>
<li><p>Example:<br>
Before:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">summary</span>(mtcars))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>analyze_mtcars <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">summary</span>(mtcars))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">analyze_mtcars</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="why-it-matters" class="level4">
<h4 class="anchored" data-anchor-id="why-it-matters">Why It Matters</h4>
<p>These refactoring tools help you follow best practices like <strong>DRY</strong> (Don’t Repeat Yourself), reducing redundancy and making your code more concise and maintainable.</p>
</section>
</section>
<section id="formatting-and-reindenting-code-keep-it-clean-and-readable" class="level3">
<h3 class="anchored" data-anchor-id="formatting-and-reindenting-code-keep-it-clean-and-readable">Formatting and Reindenting Code: Keep It Clean and Readable</h3>
<p>Clean and well-formatted code is easier to read, debug, and share with collaborators. RStudio provides built-in tools to help you quickly format and align your code, ensuring consistent indentation and style throughout your script.</p>
<section id="reindenting-code" class="level4">
<h4 class="anchored" data-anchor-id="reindenting-code">Reindenting Code</h4>
<p>Misaligned code can make your script look chaotic, especially when dealing with nested loops or functions. The reindent tool fixes this instantly:</p>
<ul>
<li><p><strong>Shortcut</strong>: Select the code block (or the entire script with <strong>Ctrl + A</strong>) and press <strong>Ctrl + I</strong>.</p></li>
<li><p><strong>Result</strong>: RStudio will automatically adjust the indentation to match R’s standard conventions.</p></li>
</ul>
</section>
<section id="formatting-code-with-the-styler-package" class="level4">
<h4 class="anchored" data-anchor-id="formatting-code-with-the-styler-package">Formatting Code with the <code>styler</code> Package</h4>
<p>For more advanced and consistent formatting, use the <code>styler</code> package:</p>
<p>Install the package:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"styler"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Format your script with a single command:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>styler<span class="sc">::</span><span class="fu">style_file</span>(<span class="st">"your_script.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This adjusts indentation, spacing, and alignment across your entire script.</p>
</section>
<section id="why-code-formatting-matters" class="level4">
<h4 class="anchored" data-anchor-id="why-code-formatting-matters">Why Code Formatting Matters</h4>
<p>Poorly formatted code can obscure logic and make debugging more difficult. With RStudio’s tools, you can ensure your code is clean, professional, and easy to understand, which is especially important when working in teams.</p>
</section>
</section>
<section id="managing-and-navigating-code-stay-organized-and-efficient" class="level3">
<h3 class="anchored" data-anchor-id="managing-and-navigating-code-stay-organized-and-efficient">Managing and Navigating Code: Stay Organized and Efficient</h3>
<p>RStudio makes it easy to manage and navigate even the most complex scripts. With features like code folding, the document outline, and search tools, you can quickly find and organize your code to maintain focus and efficiency.</p>
<section id="code-folding" class="level4">
<h4 class="anchored" data-anchor-id="code-folding">Code Folding</h4>
<p>Collapse sections of your code to focus on specific parts of your script without distraction.</p>
<ul>
<li><p><strong>How to Use</strong>:</p>
<ul>
<li><p>Click the small triangle next to a line number to collapse or expand a code block.</p></li>
<li><p>Shortcut: <strong>Alt + L</strong> collapses or expands all sections in your script.</p></li>
</ul></li>
<li><p><strong>Why It’s Useful</strong>: Collapse functions, loops, or comments to declutter your workspace while working on other parts of the script.</p></li>
</ul>
</section>
<section id="document-outline" class="level4">
<h4 class="anchored" data-anchor-id="document-outline">Document Outline</h4>
<p>The outline pane provides a high-level overview of your script, showing sections, functions, and RMarkdown chunks.</p>
<ul>
<li><p><strong>How to Access</strong>: Open the <strong>Outline Pane</strong> from the top-right corner of the editor window.</p></li>
<li><p><strong>Why It’s Useful</strong>: Jump to specific sections or functions with a single click, saving time when working on long scripts.</p></li>
</ul>
</section>
<section id="search-and-replace" class="level4">
<h4 class="anchored" data-anchor-id="search-and-replace">Search and Replace</h4>
<p>Quickly locate and update code across files using the powerful search tools:</p>
<ul>
<li><p><strong>Ctrl + F</strong>: Find text within the current file.</p></li>
<li><p><strong>Ctrl + Shift + F</strong>: Search across all files in your project.</p></li>
<li><p><strong>Ctrl + H</strong>: Replace text in the current file (or globally when used with project-wide search).</p></li>
<li><p><strong>Why It’s Useful</strong>: Update variable names, fix typos, or locate occurrences of specific functions with minimal effort.</p></li>
</ul>
</section>
<section id="navigating-between-files" class="level4">
<h4 class="anchored" data-anchor-id="navigating-between-files">Navigating Between Files</h4>
<ul>
<li><p>Use <strong>Ctrl + .</strong> (Windows) or <strong>Cmd + .</strong> (Mac) to open a fuzzy search window for file and function names in your project.</p></li>
<li><p>Quickly switch between tabs with <strong>Ctrl + Tab</strong> (Windows) or <strong>Cmd + Shift + [/</strong> <strong>]</strong> (Mac).</p></li>
</ul>
</section>
<section id="why-navigation-matters" class="level4">
<h4 class="anchored" data-anchor-id="why-navigation-matters">Why Navigation Matters</h4>
<p>Efficient navigation allows you to stay focused on the task at hand, reducing the cognitive load of searching for code. With RStudio’s tools, you can effortlessly move between sections, files, and projects.<br>
</p>
</section>
</section>
<section id="miscellaneous-tools-for-productivity" class="level3">
<h3 class="anchored" data-anchor-id="miscellaneous-tools-for-productivity">Miscellaneous Tools for Productivity</h3>
<p>Beyond shortcuts and navigation aids, RStudio offers additional tools that simplify repetitive tasks and enhance your coding experience. These features might not always take center stage, but they can save you significant time and effort in the long run.</p>
<section id="addins-extending-rstudios-functionality" class="level4">
<h4 class="anchored" data-anchor-id="addins-extending-rstudios-functionality">Addins: Extending RStudio’s Functionality</h4>
<p>RStudio Addins are small tools or gadgets that provide a user-friendly interface for performing specific tasks.</p>
<ul>
<li><p><strong>How to Use</strong>:</p>
<ul>
<li><p>Click the <strong>Addins</strong> button in the toolbar to see the list of available addins.</p></li>
<li><p>Install new addins from CRAN or GitHub. Popular examples include:</p>
<ul>
<li><p><strong>datapasta</strong>: Quickly convert copied data into R code (e.g., <code>tribble</code> or <code>data.frame</code>).</p></li>
<li><p><strong>reprex</strong>: Create reproducible examples of your code for sharing or debugging.</p></li>
</ul></li>
<li><p>Example: Copy a table from Excel and use <code>datapasta::tribble_paste()</code> to format it as a clean R data structure.</p></li>
</ul></li>
</ul>
</section>
<section id="terminal-pane-a-built-in-command-line" class="level4">
<h4 class="anchored" data-anchor-id="terminal-pane-a-built-in-command-line">Terminal Pane: A Built-In Command Line</h4>
<p>For advanced users, RStudio includes a terminal pane, letting you execute shell commands without leaving the IDE.</p>
<ul>
<li><p><strong>Example Uses</strong>:</p>
<ul>
<li><p>Manage Git repositories.</p></li>
<li><p>Install system-level packages.</p></li>
<li><p>Run Python or other command-line scripts alongside your R code.</p></li>
</ul></li>
</ul>
</section>
<section id="jobs-pane-offloading-long-running-scripts" class="level4">
<h4 class="anchored" data-anchor-id="jobs-pane-offloading-long-running-scripts">Jobs Pane: Offloading Long-Running Scripts</h4>
<p>The jobs pane lets you run lengthy or resource-intensive scripts in the background while continuing to work on other tasks.</p>
<ul>
<li><p><strong>How to Use</strong>:</p>
<ul>
<li>Select <strong>Source as Job</strong> from the editor’s drop-down menu.</li>
</ul></li>
<li><p><strong>Why It’s Useful</strong>: Frees up the editor and console while keeping track of script progress.</p></li>
</ul>
</section>
<section id="clipboard-magic-with-clipr" class="level4">
<h4 class="anchored" data-anchor-id="clipboard-magic-with-clipr">Clipboard Magic with <code>clipr</code></h4>
<p>Use the <strong>clipr</strong> package to streamline data transfer between R and other programs:</p>
<p>Example: Copy data to your clipboard in a format ready for pasting into Excel:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(clipr)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_clip</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="why-these-tools-matter" class="level4">
<h4 class="anchored" data-anchor-id="why-these-tools-matter">Why These Tools Matter</h4>
<p>These lesser-known features are perfect for tackling specific challenges, automating repetitive work, or integrating RStudio into a broader workflow. They let you focus on coding by reducing manual effort for routine tasks.</p>
</section>
</section>
<section id="from-efficiency-to-joy-in-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="from-efficiency-to-joy-in-rstudio">From Efficiency to Joy in RStudio</h3>
<p>Mastering the tools, shortcuts, and tricks available in RStudio transforms coding from a task into a pleasure. By integrating keyboard shortcuts, leveraging multi-cursor editing, utilizing intelligent code suggestions, and exploring features like code snippets and refactoring tools, you can unlock a smoother, faster, and more satisfying workflow.</p>
<p>These enhancements aren’t just about saving time; they also allow you to focus on what truly matters—solving problems, analyzing data, and creating meaningful insights. With RStudio’s powerful navigation, formatting, and automation tools at your disposal, every line of code becomes a step closer to achieving elegance and efficiency.</p>
<p>Whether you’re refining your scripts, exploring new features, or automating tedious tasks, RStudio ensures your experience is both productive and enjoyable. Embrace these tools, experiment with new features, and watch your coding skills—and your enjoyment—soar.sx</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>For everybody, not to be fooled by numbers</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>